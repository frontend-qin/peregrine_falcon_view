import{f as Z,h as Q,cp as P,cq as V,k as d,ce as X,t as E,w as H,q as J,s as ee,cb as te,as as oe,C as re,B as se,l as L,cr as ie,cs as le,b$ as ne,ct as ae}from"./index-fPT3-GK2.js";const ce=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function he(e){function t(r){return(...l)=>{if(!e.value)throw new Error("ECharts is not initialized yet.");return e.value[r].apply(e.value,l)}}function o(){const r=Object.create(null);return ce.forEach(l=>{r[l]=t(l)}),r}return o()}function de(e,t,o){E([o,e,t],([r,l,n],B,I)=>{let a=null;if(r&&l&&n){const{offsetWidth:W,offsetHeight:T}=r,A=n===!0?{}:n,{throttle:y=100,onResize:w}=A;let u=!1;const f=()=>{l.resize(),w?.()},k=y?ie(f,y):f;a=new ResizeObserver(()=>{!u&&(u=!0,r.offsetWidth===W&&r.offsetHeight===T)||k()}),a.observe(r)}I(()=>{a&&(a.disconnect(),a=null)})})}const ue={autoresize:[Boolean,Object]},fe=/^on[^a-z]/,$=e=>fe.test(e);function be(e){const t={};for(const o in e)$(o)||(t[o]=e[o]);return t}function _(e,t){const o=re(e)?se(e):e;return o&&typeof o=="object"&&"value"in o?o.value||t:o||t}const pe="ecLoadingOptions";function ge(e,t,o){const r=L(pe,{}),l=d(()=>({..._(r,{}),...o?.value}));H(()=>{const n=e.value;n&&(t.value?n.showLoading(l.value):n.hideLoading())})}const me={loading:Boolean,loadingOptions:Object};let g=null;const K="x-vue-echarts";function ye(){if(g!=null)return g;if(typeof HTMLElement>"u"||typeof customElements>"u")return g=!1;try{new Function("tag","class EChartsElement extends HTMLElement{__dispose=null;disconnectedCallback(){this.__dispose&&(this.__dispose(),this.__dispose=null)}}customElements.get(tag)==null&&customElements.define(tag,EChartsElement);")(K)}catch{return g=!1}return g=!0}document.head.appendChild(document.createElement("style")).textContent=`x-vue-echarts{display:block;width:100%;height:100%;min-width:0}
`;const we=ye(),Se="ecTheme",Ce="ecInitOptions",ve="ecUpdateOptions",U=/(^&?~?!?)native:/;var lt=Z({name:"echarts",props:{option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean,...ue,...me},emits:{},inheritAttrs:!1,setup(e,{attrs:t}){const o=P(),r=P(),l=P(),n=L(Se,null),B=L(Ce,null),I=L(ve,null),{autoresize:a,manualUpdate:W,loading:T,loadingOptions:A}=V(e),y=d(()=>l.value||e.option||null),w=d(()=>e.theme||_(n,{})),u=d(()=>e.initOptions||_(B,{})),f=d(()=>e.updateOptions||_(I,{})),k=d(()=>be(t)),M={},S=X().proxy.$listeners,C={};S?Object.keys(S).forEach(i=>{U.test(i)?M[i.replace(U,"$1")]=S[i]:C[i]=S[i]}):Object.keys(t).filter(i=>$(i)).forEach(i=>{let s=i.charAt(2).toLowerCase()+i.slice(3);if(s.indexOf("native:")===0){const b=`on${s.charAt(7).toUpperCase()}${s.slice(8)}`;M[b]=t[i];return}s.substring(s.length-4)==="Once"&&(s=`~${s.substring(0,s.length-4)}`),C[s]=t[i]});function v(i){if(!o.value)return;const s=r.value=te(o.value,w.value,u.value);e.group&&(s.group=e.group),Object.keys(C).forEach(p=>{let c=C[p];if(!c)return;let h=p.toLowerCase();h.charAt(0)==="~"&&(h=h.substring(1),c.__once__=!0);let D=s;if(h.indexOf("zr:")===0&&(D=s.getZr(),h=h.substring(3)),c.__once__){delete c.__once__;const F=c;c=(...G)=>{F(...G),D.off(h,c)}}D.on(h,c)});function b(){s&&!s.isDisposed()&&s.resize()}function N(){const p=i||y.value;p&&s.setOption(p,f.value)}a.value?oe(()=>{b(),N()}):N()}function Y(i,s){e.manualUpdate&&(l.value=i),r.value?r.value.setOption(i,s||{}):v(i)}function z(){r.value&&(r.value.dispose(),r.value=void 0)}let x=null;E(W,i=>{typeof x=="function"&&(x(),x=null),i||(x=E(()=>e.option,(s,b)=>{s&&(r.value?r.value.setOption(s,{notMerge:s!==b,...f.value}):v())},{deep:!0}))},{immediate:!0}),E([w,u],()=>{z(),v()},{deep:!0}),H(()=>{e.group&&r.value&&(r.value.group=e.group)});const q=he(r);return ge(r,T,A),de(r,a,o),J(()=>{v()}),ee(()=>{we&&o.value?o.value.__dispose=z:z()}),{chart:r,root:o,setOption:Y,nonEventAttrs:k,nativeListeners:M,...q}},render(){const e={...this.nonEventAttrs,...this.nativeListeners};return e.ref="root",e.class=e.class?["echarts"].concat(e.class):"echarts",Q(K,e)}});const xe=["#e94560","#ffd166","#06d6a0","#118ab2","#073b4c","#ef476f","#ffc43d","#1b9aaa","#05668d","#028090"],Oe="rgba(51,51,51,1)",Ee={},Le={show:!0,left:"center",textStyle:{fontSize:16,fontWeight:"normal",color:"#eeeeee"},subtextStyle:{color:"#aaaaaa"}},_e={symbolSize:8,symbol:"emptyCircle",smooth:!0,lineStyle:{width:3,type:"solid",shadowColor:"rgba(0, 0, 0, 0.2)",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:10}},Ie={itemStyle:{borderWidth:1},lineStyle:{width:2},symbolSize:4,symbol:"circle",smooth:!1},We={itemStyle:{barBorderColor:"#ccc",borderRadius:[0,0,0,0],opacity:1},barMaxWidth:"60%",showBackground:!1,backgroundStyle:{color:"rgba(255, 255, 255, 0.2)",borderRadius:[0,0,0,0]},label:{show:!1,position:"top",color:"#fff"},markPoint:{label:{color:"#fff"}}},Te={itemStyle:{borderWidth:"0",borderColor:"#ccc"}},Ae={itemStyle:{borderWidth:"0",borderColor:"#ccc"}},ke={itemStyle:{borderWidth:"0",borderColor:"#ccc"}},Me={itemStyle:{borderWidth:"0",borderColor:"#ccc"}},ze={itemStyle:{borderWidth:"0",borderColor:"#ccc"}},De={itemStyle:{borderWidth:"0",borderColor:"#ccc"}},Pe={itemStyle:{borderWidth:"0",borderColor:"#ccc"}},Re={itemStyle:{color:"#fd1050",color0:"#0cf49b",borderColor:"#fd1050",borderColor0:"#0cf49b",borderWidth:1}},Be={itemStyle:{borderWidth:"0",borderColor:"#ccc"},lineStyle:{width:1,color:"#aaaaaa"},symbolSize:4,symbol:"circle",smooth:!1,color:["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],label:{color:"#dd1919"}},Ne={itemStyle:{areaColor:"#eee",borderColor:"#444",borderWidth:.5},label:{color:"#000"},emphasis:{itemStyle:{areaColor:"rgba(255,215,0,0.8)",borderColor:"#444",borderWidth:1},label:{color:"rgb(100,0,0)"}}},Ue={itemStyle:{areaColor:"#eee",borderColor:"#444",borderWidth:.5},label:{color:"#000"},emphasis:{itemStyle:{areaColor:"rgba(255,215,0,0.8)",borderColor:"#444",borderWidth:1},label:{color:"rgb(100,0,0)"}}},je={axisLine:{show:!0,lineStyle:{color:"#eeeeee"}},axisTick:{show:!0,lineStyle:{color:"#eeeeee"}},axisLabel:{show:!0,color:"#eeeeee"},splitLine:{show:!0,lineStyle:{color:["#aaaaaa"]}},splitArea:{show:!1,areaStyle:{color:["#eeeeee"]}}},He={axisLine:{show:!0,lineStyle:{color:"#eeeeee"}},axisTick:{show:!0,lineStyle:{color:"#eeeeee"}},axisLabel:{show:!0,color:"#eeeeee"},splitLine:{show:!0,lineStyle:{color:["#aaaaaa"]}},splitArea:{show:!1,areaStyle:{color:["#eeeeee"]}}},$e={axisLine:{show:!0,lineStyle:{color:"#eeeeee"}},axisTick:{show:!0,lineStyle:{color:"#eeeeee"}},axisLabel:{show:!0,color:"#eeeeee"},splitLine:{show:!0,lineStyle:{color:["#aaaaaa"]}},splitArea:{show:!1,areaStyle:{color:["#eeeeee"]}}},Ke={axisLine:{show:!0,lineStyle:{color:"#eeeeee"}},axisTick:{show:!0,lineStyle:{color:"#eeeeee"}},axisLabel:{show:!0,color:"#eeeeee"},splitLine:{show:!0,lineStyle:{color:["#aaaaaa"]}},splitArea:{show:!1,areaStyle:{color:["#eeeeee"]}}},Ye={show:!0,iconStyle:{borderColor:"#999999"},emphasis:{iconStyle:{borderColor:"#666666"}},showTitle:!1,feature:{magicType:{type:["line","bar","stack"]},saveAsImage:{}}},qe={top:50,bottom:40,left:10,right:10,containLabel:!0},Fe={show:!0,type:"scroll",bottom:10,icon:"",textStyle:{color:"#eeeeee"}},Ge={backgroundColor:"rgba(0, 0, 0, 0.7)",show:!0,borderColor:"#eeeeee",borderWidth:0,axisPointer:{type:"line",lineStyle:{color:"#eeeeee",width:1},crossStyle:{color:"#eeeeee",width:1}},textStyle:{color:"#eeeeee"}},Ze={lineStyle:{color:"#eeeeee",width:1},itemStyle:{color:"#dd6b66",borderWidth:1},controlStyle:{color:"#eeeeee",borderColor:"#eeeeee",borderWidth:.5},checkpointStyle:{color:"#e43c59",borderColor:"#c23531"},label:{color:"#eeeeee"},emphasis:{itemStyle:{color:"#a9334c"},controlStyle:{color:"#eeeeee",borderColor:"#eeeeee",borderWidth:.5},label:{color:"#eeeeee"}}},Qe={color:["#bf444c","#d88273","#f6efa6"]},Ve={backgroundColor:"rgba(47,69,84,0)",dataBackgroundColor:"rgba(255,255,255,0.3)",fillerColor:"rgba(167,183,204,0.4)",handleColor:"#a7b7cc",handleSize:"100%",textStyle:{color:"#eeeeee"}},Xe={label:{color:"#dd1919"},emphasis:{label:{color:"#dd1919"}}},Je={color:xe,backgroundColor:Oe,textStyle:Ee,title:Le,line:_e,radar:Ie,bar:We,pie:Te,scatter:Ae,boxplot:ke,parallel:Me,sankey:ze,funnel:De,gauge:Pe,candlestick:Re,graph:Be,map:Ne,geo:Ue,categoryAxis:je,valueAxis:He,logAxis:$e,timeAxis:Ke,toolbox:Ye,grid:qe,legend:Fe,tooltip:Ge,timeline:Ze,visualMap:Qe,dataZoom:Ve,markPoint:Xe},et=performance.now(),j=5,tt=5,R=12;let m=0,O=-1;const ot=e=>{let t=Date.now();for(;t<=e;)t=Date.now();return t},rt=(e=1,t=1)=>{if(e>31||e<0)throw new Error("Worker ID must be 0-31");if(t>31||t<0)throw new Error("Datacenter ID must be 0-31");let o=Date.now();if(o<O)throw new Error("Clock moved backwards");return O===o?(m=m+1&4095,m===0&&(o=ot(O))):m=0,O=o,(o-et<<j+tt+R|t<<j+R|e<<R|m).toString()},nt=le("designStore",{state:()=>({theme:Je,themeIndex:0,page:{width:1920,height:1080,background:"#000",url:""},chartList:[],chartIndex:0,hoverIndex:-1}),getters:{chartConfig:e=>e.chartList[e.chartIndex]},actions:{resetWidget(){this.chartIndex=-1},setPage(e){this.page=e},addChart(e){console.log("add 函数执行",e),this.chartList.push(e),this.editChart()},rightMenuClick(e){if(typeof e!="string")return;({remove:this.deleteChart,copy:this.copyChart,up:this.upWidget,down:this.downWidget})[e]?.()},upWidget(){st(this.chartList,this.chartIndex),this.editChart()},downWidget(){ae(this.chartList,this.chartIndex),this.editChart(0)},editChart(e){this.chartIndex=e!==void 0?e:this.chartList.length-1},deleteChart(){const e=this.chartIndex;this.chartList.splice(e,1),this.editChart()},copyChart(){const e=ne(this.chartList[this.chartIndex]);e.x+=50,e.y+=50,e.id=rt(),this.chartList.push(e)},clearChart(){this.chartList=[],this.chartIndex=-1},resizeChart(e,t,o,r){const l=this.chartList[this.chartIndex];l&&(l.x=~~Math.floor(e),l.y=~~Math.floor(t),l.width=~~Math.floor(o)-2,l.height=~~Math.floor(r)-2)},changeChartPosition(e,t){const o=this.chartList[this.chartIndex];o&&(o.x=~~Math.floor(e),o.y=~~Math.floor(t))},rotateChart(e){const t=this.chartList[this.chartIndex];t&&(t.rotate=~~Math.floor(e))}}});function st(e,t){return[e[t],e[e.length-1]]=[e[e.length-1],e[t]],e}export{lt as E,rt as g,nt as u};
